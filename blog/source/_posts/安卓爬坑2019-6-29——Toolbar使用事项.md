---
title: 安卓爬坑（二）——Toolbar使用事项
date: 2019-06-29 23:21:47
tags: [Java,Android]
---

<br>
转自https://www.cnblogs.com/hh9601/p/6404728.html
# 异常信息：
``` javas
Caused by: java.lang.IllegalStateException: This Activity already has an action bar supplied by the window decor. Do not request Window.FEATURE_SUPPORT_ACTION_BAR and set windowActionBar to false in your theme to use a Toolbar instead.
```
# 问题原因：

当在有`activity`中调用了`setSupportActionBar(toolbar); `
而当前使用的主题为默认，或者带默认`ActionBar`的主题
{% asset_img 1.png %}


当在`activity`中调用了`setSupportActionBar(toolbar)`; 


同时，`AndroidManifest.xml `对应的`Activity`标签的`android:theme`为

`<android:theme="@style/AppTheme" >`

且，style资源文件中的parent为`parent="Theme.AppCompat.Light.DarkActionBar`
{% asset_img 2.png %}

就会报这个异常。


#  解决方法：

在`style.xm`l中加入：

{% asset_img 3.png %}

在`Manifest.xml`中，修改theme

{% asset_img 4.png %}